
<div class="container">
    <h2>Registrar Venta</h2>
    <form [formGroup]="FormVentas"  (submit)="Enviar()">
        <div class="form-group">
            <label for="categoria">Categoría</label>
            <select class="form-control" id="categoria" formControlName="categoria" (change)="CargarProductos($event)" >
                <option value="">Seleccione una categoria</option>
                <option *ngFor="let cat of categorias" value={{cat.nombreCat}}>{{cat.nombreCat}}</option>
                </select>
        </div>

        <div class="form-group">
            <label for="nombre">Nombre del Producto</label>
            <select class="form-control" id="nombre" formControlName="nombre"  (change)="ColorProducto($event)">
                <option value="">Seleccionar producto</option>
                <option value={{p.producto}}  *ngFor="let p of productos">{{p.producto}}</option> 
                </select>
        </div>

        <div class="form-group">
            <label for="metodo">Colores Disponibles:</label>
            <select class="form-control" id="colores" formControlName="color" (change)="PrecioProducto($event)">
                <option value="">Seleccionar color</option>
                <option value={{color.color}} *ngFor="let color of colorproducto">{{color.color}}</option>
            </select>
        </div>
        
        <div class="form-group">
            <div class="row">
                <div class="col-6">
                    <label for="cantidad">Cantidad</label>
                    <input type="number" class="form-control" id="cantidad" min="1" (change)="ValidarStock($event)"  formControlName="cantidad">        
                </div>
                <div class="col-6">
                    <label for="stock">Stock</label>          
                    <input type="number" class="form-control" id="stock" value="0" formControlName="stock" readonly>
                </div>
            </div>
            <p *ngIf="!ValidStock" class="alert alert-warning mt-1 mb-0 fw-bolder">La venta es mayor al stock</p>            
        </div>

        <div class="form-group">
            <label for="precio">Precio</label>
            <input type="number" class="form-control" id="precio" step="0.01" placeholder="0.00" formControlName="precio" readonly >
        </div>

        <div class="form-group">
            <label for="metodo">Método de Pago</label>
            <select class="form-control" id="metodo" formControlName="metodo">
                <option value="">Seleccionar método</option>
                <option value="yape">Yape</option>
                <option value="efectivo">Efectivo</option>
            </select>
        </div>

        <div class="form-group">
            <label for="vendedores">Vendedor</label>
            <select class="form-control" id="vendedores" formControlName="vendedor">
                <option value="">Seleccionar vendedor</option>
                <option value="anghela">Anghela</option>
                <option value="arcela">Arcela</option>
            </select>
        </div>
        <div class="form-group">
            <label for="fechaventa">Fecha de Venta: </label>
            <input type="date" class="form-control" formControlName="fechaventa" >
            
        </div>
        <button type="submit" class="btn btn-dark mt-3" [disabled]="(!FormVentas.valid || !ValidStock )">Guardar</button>
        
    </form>
</div>

